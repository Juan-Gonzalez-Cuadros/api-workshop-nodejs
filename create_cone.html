<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<style>
    th{ 
        color:#fff;
    }
    label, td{
        width:200px;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
    }
</style>

<div>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Crear-Editar expediente</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="/success">Expedientes<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/spare_parts">Refacciones</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/logout">Salir del sistema</a>
            </li>
          </ul>
        </div>
      </nav>
</div>

<form method="post" id="post_cone">
<table class="table table-dark">
    <!--<tr  class="bg-secondary">
        <th data-column=cone data-order="desc">cone &#9650</th>
        <th data-column=description data-order="desc">description &#9650</th>
        <th data-column=priority data-order="desc">priority &#9650</th>
        <th data-column=quantity data-order="desc">quantity &#9650</th>
        <th data-column=status data-order="desc">status &#9650</th>
        <th data-column=supplier data-order="desc">supplier &#9650</th>            
    </tr>

    <tbody id="myTableSP">
        
    </tbody>-->
    <tr>
        <td>
            <label>Aseguradora</label>
            <input type="text" name="insurer" id="insurer">
        </td>
        <td>
            <label>Familia</label>
            <input type="text" name="family" id="family">
        </td>
    </tr>
    <tr>
        <td>
            <label>Marca</label>
            <input type="text" name="brand" id="brand">
        </td>
        <td>
            <label>Color</label>
            <input type="text" name="color" id="color">
        </td>
    </tr>
    <tr>
        <td>
            <label># Reporte</label>
            <input type="text" name="report" id="report">
        </td>
        <td>
            <label># Póliza</label>
            <input type="text" name="policy" id="policy">
        </td>
    </tr>
    <tr>
        <td>
            <label>Fecha de Ingreso</label>
            <input type="text" name="entrydate" id="entrydate">
        </td>
        <td>
            <label>Fecha Promesa</label>
            <input type="text" name="commitmentdate" id="commitmentdate">
        </td>
    </tr>
    <tr>
        <td>
            <label>Fecha de Entrega</label>
            <input type="text" name="egressdate" id="egressdate">
        </td>
        <td>
            <label># Serie</label>
            <input type="text" name="seriesnumber" id="seriesnumber">
        </td>
    </tr>
    <tr>
        <td>
            <label># Económico</label>
            <input type="text" name="economicnumber" id="economicnumber">
        </td>
        <td>
            <label>Modelo</label>
            <input type="text" name="model" id="model">
        </td>
    </tr>
    <tr>
        <td>
            <label>Placa</label>
            <input type="text" name="plates" id="plates">
        </td>
        <td>
            <label>Demérito</label>
            <input type="number" name="demerit" id="demerit">
        </td>
    </tr>
    <tr>
        <td>
            <label>Riesgo</label>
            <input type="text" name="risk" id="risk">
        </td>
        <td>
            <label>Estatus</label>
            <input type="text" name="status" id="status">
        </td>
    </tr>
    <tr>
        <td>
            <label>Deducible Unidad</label>
            <input type="number" name="deductibletract" id="deductibletract">
        </td>
        <td>
            <label>Deducible Adaptación</label>
            <input type="number" name="deductibleadapt" id="deductibleadapt">
        </td>
    </tr>
    <tr>
        <td>
            <label>Grúa</label>
            <input type="text" name="crane" id="crane">
        </td>
        <td>
            <label>Año</label>
            <input type="number" name="year" id="year">
        </td>
    </tr>
    <tr>
        <td>
            <label>Cliente</label>
            <input type="text" name="customer" id="customer">
        </td>
        <td>
            <label>Teléfono</label>
            <input type="text" name="phone" id="phone">
        </td>
    </tr>
    <tr>
        <td>
            <label>E-mail</label>
            <input type="text" name="email" id="email">
        </td>
        <td>
            <label>Comentarios</label>
            <input type="text" name="comment" id="comment">
        </td>
    </tr>
    <input type="submit" name="submit" id="submit" value="Submit">
</table>
</form>

<script>
	var myArray = []

    //$('submit').on('click', function()
    var form = document.getElementById('post_cone')
    form.addEventListener('submit', function(event){
        event.preventDefault()
        var text = $(this).html()
        var brand = document.getElementById('brand').value
        var color = document.getElementById('color').value
        var comment = document.getElementById('comment').value
        var commitmentdate = document.getElementById('commitmentdate').value
        var crane = document.getElementById('crane').value
        var customer = document.getElementById('customer').value
        var deductibleadapt = document.getElementById('deductibleadapt').value
        var deductibletract = document.getElementById('deductibletract').value
        var demerit = document.getElementById('demerit').value
        var economicnumber = document.getElementById('economicnumber').value
        var egressdate = document.getElementById('egressdate').value
        var email = document.getElementById('email').value
        var entrydate = document.getElementById('entrydate').value
        var family = document.getElementById('family').value
        var insurer = document.getElementById('insurer').value
        var model = document.getElementById('model').value
        var phone = document.getElementById('phone').value
        var plates = document.getElementById('plates').value
        var policy = document.getElementById('policy').value
        var report = document.getElementById('report').value
        var risk = document.getElementById('risk').value
        var seriesnumber = document.getElementById('seriesnumber').value
        var status = document.getElementById('status').value
        var year = document.getElementById('year').value
        
        $(this).html(text)

        $.ajax({
            method: 'POST',
            url: 'https://us-central1-workshop-688178.cloudfunctions.net/app/api/create_cone',
            success: function(response){
                myArray = response
            }
        })
    })

</script>