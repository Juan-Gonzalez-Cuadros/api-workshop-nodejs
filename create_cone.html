<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<style>
    th{ 
        color:#fff;
    }
    label, td{
        width:200px;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
    }
</style>

<div>
    <h1>Nueva refaccion</h1>

    <a href="/success">Expedientes</a>  
    <a href="/logout">Salir del sistema</a>  
</div>

<form method="post" id="post_cone">
<table class="table table-dark">
    <!--<tr  class="bg-secondary">
        <th data-column=cone data-order="desc">cone &#9650</th>
        <th data-column=description data-order="desc">description &#9650</th>
        <th data-column=priority data-order="desc">priority &#9650</th>
        <th data-column=quantity data-order="desc">quantity &#9650</th>
        <th data-column=status data-order="desc">status &#9650</th>
        <th data-column=supplier data-order="desc">supplier &#9650</th>            
    </tr>

    <tbody id="myTableSP">
        
    </tbody>-->
    <tr>
        <td>
            <label>Insurer</label>
            <input type="text" name="insurer">
        </td>
        <td>
            <label>Family</label>
            <input type="text" name="family">
        </td>
    </tr>
    <tr>
        <td>
            <label>Brand</label>
            <input type="text" name="brand">
        </td>
        <td>
            <label>Color</label>
            <input type="text" name="color">
        </td>
    </tr>
    <tr>
        <td>
            <label>Report</label>
            <input type="text" name="report">
        </td>
        <td>
            <label>Policy</label>
            <input type="text" name="policy">
        </td>
    </tr>
    <tr>
        <td>
            <label>Entry Date</label>
            <input type="text" name="entrydate">
        </td>
        <td>
            <label>Commitment Date</label>
            <input type="text" name="commitmentdate">
        </td>
    </tr>
    <tr>
        <td>
            <label>Egress Date</label>
            <input type="text" name="egressdate">
        </td>
        <td>
            <label>Series Number</label>
            <input type="text" name="seriesnumber">
        </td>
    </tr>
    <tr>
        <td>
            <label>Economic Number</label>
            <input type="text" name="economicnumber">
        </td>
        <td>
            <label>Model</label>
            <input type="text" name="model">
        </td>
    </tr>
    <tr>
        <td>
            <label>Plates</label>
            <input type="text" name="plates">
        </td>
        <td>
            <label>Demerit</label>
            <input type="number" name="demerit">
        </td>
    </tr>
    <tr>
        <td>
            <label>Risk</label>
            <input type="text" name="risk">
        </td>
        <td>
            <label>status</label>
            <input type="text" name="status">
        </td>
    </tr>
    <tr>
        <td>
            <label>Deductible Tract</label>
            <input type="number" name="deductibletract">
        </td>
        <td>
            <label>Deductible Adapt</label>
            <input type="number" name="deductibleadapt">
        </td>
    </tr>
    <tr>
        <td>
            <label>Crane</label>
            <input type="text" name="crane">
        </td>
        <td>
            <label>Year</label>
            <input type="number" name="year">
        </td>
    </tr>
    <tr>
        <td>
            <label>Customer</label>
            <input type="text" name="customer">
        </td>
        <td>
            <label>Phone</label>
            <input type="text" name="phone">
        </td>
    </tr>
    <tr>
        <td>
            <label>Email</label>
            <input type="text" name="email">
        </td>
        <td>
            <label>Comment</label>
            <input type="text" name="comment">
        </td>
    </tr>
    <input type="submit" name="submit" id="submit" value="Submit">
</table>
</form>

<script>
	var myArray = []

    $.ajax({
        method: 'POST',
        url: 'https://us-central1-workshop-688178.cloudfunctions.net/app/api/create_cone',
        success: function(response){
            myArray = response
            buildTable(myArray)
        }
    })

    //$('submit').on('click', function()
    var form = document.getElementById('post_cone')
    form.addEventListener('submit', function(event){
        event.preventDefault()
        var text = $(this).html()
        var brand = document.getElementById('brand').value
        var color = document.getElementById('color').value
        var comment = document.getElementById('comment').value
        var commitmentdate = document.getElementById('commitmentdate').value
        var crane = document.getElementById('crane').value
        var customer = document.getElementById('customer').value
        var deductibleadapt = document.getElementById('deductibleadapt').value
        var deductibletract = document.getElementById('deductibletract').value
        var demerit = document.getElementById('demerit').value
        var economicnumber = document.getElementById('economicnumber').value
        var egressdate = document.getElementById('egressdate').value
        var email = document.getElementById('email').value
        var entrydate = document.getElementById('entrydate').value
        var family = document.getElementById('family').value
        var insurer = document.getElementById('insurer').value
        var model = document.getElementById('model').value
        var phone = document.getElementById('phone').value
        var plates = document.getElementById('plates').value
        var policy = document.getElementById('policy').value
        var report = document.getElementById('report').value
        var risk = document.getElementById('risk').value
        var seriesnumber = document.getElementById('seriesnumber').value
        var status = document.getElementById('status').value
        var year = document.getElementById('year').value
        $(this).html(text)
    })

</script>